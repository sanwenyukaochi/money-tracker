# Application & Server
spring.application.name=project-security
server.port=8081

# Security
spring.security.user.name=admin
spring.security.user.password=password

# Jackson
spring.jackson.time-zone=Asia/Shanghai
spring.jackson.json.write.write-numbers-as-strings=true

# DataSource
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.type=com.zaxxer.hikari.HikariDataSource

# Pageable
spring.data.web.pageable.one-indexed-parameters=true
spring.data.web.pageable.serialization-mode=via_dto
spring.data.web.pageable.default-page-size=6
spring.data.web.pageable.max-page-size=20
spring.data.web.pageable.page-parameter=page
spring.data.web.pageable.size-parameter=size
spring.data.web.sort.sort-parameter=sort

# Redis
spring.data.redis.host=${SPRING_REDIS_HOST}
spring.data.redis.port=${SPRING_REDIS_PORT}
spring.data.redis.database=${SPRING_REDIS_DATABASE}
spring.data.redis.username=${SPRING_REDIS_USERNAME}
spring.data.redis.password=${SPRING_REDIS_PASSWORD}

# Cache (Redis)
spring.cache.type=redis
spring.cache.redis.time-to-live=3600000
spring.cache.redis.key-prefix=cache_
spring.cache.redis.use-key-prefix=true

# JPA / Hibernate
spring.jpa.show-sql=true
spring.jpa.open-in-view=false
spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.show_sql=true
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Shanghai
#spring.jpa.properties.hibernate.connection.url=${spring.datasource.url}
#spring.jpa.properties.hibernate.connection.username=${spring.datasource.username}
#spring.jpa.properties.hibernate.connection.password=${spring.datasource.password}
#spring.jpa.properties.hibernate.connection.driver_class=${spring.datasource.driver-class-name}
spring.jpa.properties.jakarta.persistence.schema-generation.create-source=metadata
spring.jpa.properties.jakarta.persistence.schema-generation.scripts.action=create
spring.jpa.properties.jakarta.persistence.schema-generation.scripts.create-target=build/schema.sql

# Flyway
spring.flyway.url=${spring.datasource.url}
spring.flyway.user=${spring.datasource.username}
spring.flyway.password=${spring.datasource.password}
spring.flyway.driver-class-name=${spring.datasource.driver-class-name}
spring.flyway.baseline-on-migrate=true
spring.flyway.enabled=true
spring.flyway.table=sys_flyway_history
spring.flyway.locations=classpath:db/authentication

# CosId (Snowflake)
cosid.namespace=${spring.application.name}
cosid.machine.enabled=true
cosid.machine.distributor.type=redis
cosid.machine.guarder.enabled=true
cosid.snowflake.enabled=true
cosid.snowflake.zone-id=Asia/Shanghai
cosid.snowflake.epoch=1288834974657
cosid.snowflake.share.clock-sync=true
cosid.snowflake.share.converter.friendly.pad-start=true
cosid.snowflake.provider.short_id.converter.prefix=
cosid.snowflake.provider.short_id.converter.type=radix
cosid.snowflake.provider.short_id.converter.radix.char-size=11
cosid.snowflake.provider.short_id.converter.radix.pad-start=false
cosid.snowflake.provider.safe-js.machine-bit=3
cosid.snowflake.provider.safe-js.sequence-bit=9

# Swagger
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true

# Logging
#logging.file.name=logs/${spring.application.name}/app.log
#logging.level.org.hibernate.orm.jdbc.bind=TRACE
#logging.level.org.springframework.security=DEBUG
#logging.level.com.secure.security=DEBUG

# JWT
spring.app.jwtSecret=${JWT_SECRET}

# Mail
spring.mail.host=${SPRING_MAIL_HOST}
spring.mail.port=${SPRING_MAIL_PORT}
spring.mail.username=${SPRING_MAIL_USERNAME}
spring.mail.password=${SPRING_MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.main.allow-bean-definition-overriding=true

# GitHub OAuth2 configuration
spring.security.oauth2.client.registration.github.client-name=github
spring.security.oauth2.client.registration.github.client-id=${GITHUB_CLIENT_ID}
spring.security.oauth2.client.registration.github.client-secret=${GITHUB_CLIENT_SECRET}
spring.security.oauth2.client.registration.github.redirect-uri=${GITHUB_REDIRECT_URI}
spring.security.oauth2.client.registration.github.scope=read:user,user:email

# Google OAuth2 configuration
spring.security.oauth2.client.registration.google.client-name=google
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}

# Proxy
spring.proxy.enabled=false
spring.proxy.host=${PROXY_HOST}
spring.proxy.port=${PROXY_PORT}

# Actuator
management.endpoints.web.exposure.include=health,info
management.endpoints.web.base-path=/actuator

spring.jooq.sql-dialect=POSTGRES